# 三国霸业 - 游戏数据配置与静态资源文档

## 文档说明

本文档描述《三国霸业》中所有静态数据的组织结构、存储格式和配置方法。这些数据包括武将、城池、道具、技能等游戏的固定内容。

**数据源**: `data/dat.xml` - 完整游戏数据

---

## 一、数据文件组织结构

### 1.1 主要数据文件

```
data/
└── dat.xml         # 主要静态数据源
```

### 1.2 XML数据结构

```xml
<root>
  <patch 存档名称="sango .sav">
    <城池清单>      <!-- 38座城池定义 -->
    <道具清单>      <!-- 34件道具/装备 -->
    <技能清单>      <!-- 30个技能 -->
    <时期清单>      <!-- 4个历史时期 -->
      <时期 起始年="190">  <!-- 各时期城池人物配置 -->
  </patch>
</root>
```

---

## 二、城池数据配置

### 2.1 城池基础列表

游戏中共定义**38座城池**：

| 编号 | 城池名称 | 地理位置 |
|------|----------|----------|
| 0 | 西凉 | 西北边陲 |
| 1 | 北平 | 东北边境 |
| 2 | 襄平 | 辽东地区 |
| 3 | 安定 | 西部地区 |
| 4 | 晋阳 | 山西中部 |
| 5 | 平原 | 山东北部 |
| 6 | 南皮 | 河北地区 |
| 7 | 北海 | 山东半岛 |
| 8 | 天水 | 甘肃地区 |
| 9 | 河内 | 河南北部 |
| 10 | 长安 | 陕西中部 |
| 11 | 邺 | 河北南部 |
| 12 | 濮阳 | 河南东北部 |
| 13 | 徐州 | 江苏北部 |
| 14 | 汉中 | 陕西南部 |
| 15 | 洛阳 | 河南中部 |
| 16 | 许昌 | 河南中部 |
| 17 | 小沛 | 江苏西北部 |
| 18 | 下邳 | 江苏北部 |
| 19 | 梓潼 | 四川北部 |
| 20 | 宛城 | 河南南部 |
| 21 | 寿春 | 安徽北部 |
| 22 | 建业 | 江苏南部 |
| 23 | 吴 | 江苏南部 |
| 24 | 成都 | 四川中部 |
| 25 | 棉竹 | 四川北部 |
| 26 | 襄阳 | 湖北北部 |
| 27 | 江夏 | 湖北东部 |
| 28 | 庐江 | 安徽中部 |
| 29 | 会稽 | 浙江东部 |
| 30 | 云南 | 西南地区 |
| 31 | 巴郡 | 重庆地区 |
| 32 | 武陵 | 湖南西部 |
| 33 | 长沙 | 湖南东部 |
| 34 | 柴桑 | 江西北部 |
| 35 | 零陵 | 湖南南部 |
| 36 | 桂阳 | 湖南南部 |
| 37 | 建宁 | 云南东部 |

### 2.2 城池数据结构

```xml
<城池 名称="洛阳"
      归属="董卓"
      太守=""
      农业="5017"
      农业上限="9649"
      商业="4654"
      商业上限="8951"
      人口="402696"
      人口上限="805392"
      民忠="36"
      金钱="517"
      粮食="1254"
      防灾="48"
      后备兵力="0">
  <城中人物>...</城中人物>
  <城中道具>...</城中道具>
</城池>
```

**属性说明**：
- **归属**: 城市所属势力（君主名称）
- **太守**: 城市太守（可选）
- **农业/商业**: 当前开发度
- **农业上限/商业上限**: 开发上限
- **人口**: 当前人口数
- **人口上限**: 人口上限
- **民忠**: 民心忠诚度 (0-100)
- **防灾**: 防灾值

### 2.3 城池连接关系

城池之间的连通性决定能否移动和出征。连接关系在游戏地图数据中定义，每座城市可连接到相邻的多个城市。

---

## 三、武将数据配置

### 3.1 武将数据结构

```xml
<人物 名称="吕布"
      归属="董卓"
      年龄="34"
      兵种="极兵"
      武力="110"
      智力="53"
      等级="1"
      忠诚="95"
      性格="0"
      道具1="方天画戟"
      道具2="赤兔"
      专长=""
      出生地="洛阳"
      成年="172"
      伯乐=""/>
```

**属性说明**：
- **归属**: 所属势力（君主名称，空表示在野）
- **兵种**: 骑兵/步兵/弓兵/水兵/极兵/玄兵
- **武力/智力**: 基础属性值
- **等级**: 当前等级 (1-20)
- **忠诚**: 忠诚度 (0-100)
- **性格**: 0=勇猛, 1=冷静, 2=狡猾, 3=仁德, 4=忠义
- **道具1/道具2**: 装备的物品名称
- **专长**: 特殊技能
- **出生地**: 出生城市
- **成年**: 成年年份（人物出现年份）
- **伯乐**: 发现此人物的武将

### 3.2 著名武将示例（190年时期）

#### 主要君主

| 姓名 | 武力 | 智力 | 性格 | 所属 | 所在地 |
|------|------|------|------|------|--------|
| 董卓 | 86 | 36 | 0 | 董卓 | 洛阳 |
| 袁绍 | 73 | 70 | 4 | 袁绍 | 南皮 |
| 曹操 | 84 | 90 | 3 | 曹操 | 濮阳 |
| 刘备 | 85 | 76 | 3 | 刘备 | 平原 |
| 孙坚 | 95 | 81 | 4 | 孙坚 | 长沙 |
| 刘表 | 22 | 71 | 4 | 刘表 | 襄阳 |
| 马腾 | 89 | 46 | 4 | 马腾 | 天水 |
| 公孙瓒 | 89 | 75 | 4 | 公孙瓒 | 北平 |
| 袁术 | 78 | 84 | 1 | 袁术 | 寿春 |
| 陶谦 | 46 | 65 | 1 | 陶谦 | 徐州 |

#### 顶级武将

| 姓名 | 武力 | 智力 | 兵种 | 所属 | 所在地 | 装备 |
|------|------|------|------|------|--------|------|
| 吕布 | 110 | 53 | 极兵 | 董卓 | 洛阳 | 方天画戟、赤兔 |
| 关羽 | 106 | 81 | 步兵 | 刘备 | 平原 | 青龙刀 |
| 张飞 | 107 | 67 | 骑兵 | 刘备 | 平原 | 丈八矛 |
| 马超 | 98 | 53 | 骑兵 | 马腾 | 西凉 | - |
| 典韦 | 96 | 24 | 步兵 | - | 濮阳 | - |
| 许褚 | 96 | 24 | 步兵 | - | 濮阳 | - |
| 赵云 | 98 | 87 | 弓兵 | - | 北平 | - |
| 黄忠 | 93 | 57 | 弓兵 | - | 成都 | - |
| 张辽 | 93 | 82 | 弓兵 | 董卓 | 洛阳 | - |
| 太史慈 | 93 | 43 | 骑兵 | 孔融 | 北海 | - |

#### 顶级谋士

| 姓名 | 武力 | 智力 | 兵种 | 所属 | 所在地 |
|------|------|------|------|------|--------|
| 诸葛亮 | - | - | - | - | - | 需搜索 |
| 郭嘉 | 28 | 99 | 弓兵 | - | 濮阳 | 伯乐：程昱 |
| 荀彧 | 43 | 94 | 弓兵 | - | 邺 | 伯乐：曹操 |
| 李儒 | 54 | 92 | 弓兵 | 董卓 | 洛阳 | - |
| 程昱 | 33 | 94 | 步兵 | - | 洛阳 | - |
| 贾诩 | 37 | 96 | 步兵 | - | 河内 | - |
| 田丰 | 28 | 94 | 弓兵 | 袁绍 | 南皮 | - |
| 沮授 | 21 | 91 | 弓兵 | 袁绍 | 南皮 | - |

**注**：部分武将武力/智力可超过100（如吕布武力110，诸葛亮智力150），这是原始游戏数据设定。

---

## 四、历史时期配置

### 4.1 时期定义

游戏共**4个历史时期**：

| 时期ID | 起始年份 | 时期名称 | 说明 |
|--------|----------|----------|------|
| 1 | 190年 | 董卓弄权 | 汉末乱世初期 |
| 2 | 198年 | 曹操崛起 | 中原争霸 |
| 3 | 208年 | 赤壁之战 | 三国鼎立前夕 |
| 4 | 225年 | 三国鼎立 | 魏蜀吴三国形成 |

### 4.2 各时期特点

#### 时期1：190年 - 董卓弄权

**势力分布**：
- **董卓**：洛阳、长安（强大势力）
- **袁绍**：南皮、邺（河北霸主）
- **曹操**：濮阳（新兴势力）
- **刘备**：平原（弱小势力）
- **孙坚**：长沙（江东基础）
- **刘表**：襄阳、江夏（荆州牧）
- **马腾**：西凉、天水、安定（西凉军阀）
- **公孙瓒**：北平、襄平（幽州势力）
- **袁术**：寿春（淮南势力）
- **陶谦**：徐州、小沛、下邳（徐州牧）
- **张鲁**：汉中（宗教势力）
- **刘焉**：成都（益州牧）

**特点**：
- 吕布在董卓麾下（洛阳）
- 赵云在北平（在野）
- 诸葛亮尚未出现（207年出现）

#### 时期2：198年 - 曹操崛起

**主要变化**：
- 曹操势力扩大，控制中原
- 吕布占据濮阳
- 刘备势力变化
- 孙策统一江东

#### 时期3：208年 - 赤壁之战

**主要变化**：
- 曹操统一北方
- 刘备占据江夏
- 孙权巩固江东
- 诸葛亮已加入刘备

#### 时期4：225年 - 三国鼎立

**主要变化**：
- 曹丕代汉建立魏
- 刘备建立蜀汉
- 孙权建立东吴
- 三国格局正式形成

---

## 五、道具数据配置

### 5.1 道具列表（共34件）

#### 武器类（11件）- 增加武力

| 道具名称 | 武力+ | 智力+ | 移动+ | 说明 |
|----------|-------|-------|-------|------|
| 方天画戟 | 10 | 0 | 0 | 武力+10 |
| 七星刀 | 10 | 0 | 0 | 王允之刀，后由孟德献刀而归董卓 |
| 倚天剑 | 10 | 0 | 0 | 武力+10 |
| 青龙刀 | 8 | 0 | 0 | 关羽武器，武力+8 |
| 丈八矛 | 8 | 0 | 0 | 张飞武器，武力+8 |
| 青虹剑 | 8 | 0 | 0 | 武力+8 |
| 古淀刀 | 5 | 0 | 0 | 孙坚武器，武力+5 |
| 双股剑 | 4 | 0 | 0 | 刘备武器，武力+4 |
| 三尖刀 | 3 | 0 | 0 | 纪灵武器，武力+3 |
| 望月枪 | 3 | 0 | 0 | 公孙瓒武器，武力+3 |
| 双铁戟 | 2 | 0 | 0 | 武力+2 |

#### 兵书类（11件）- 增加智力

| 道具名称 | 武力+ | 智力+ | 移动+ | 说明 |
|----------|-------|-------|-------|------|
| 孙子兵法 | 0 | 10 | 0 | 孙武所著，兵法之首 |
| 六韬 | 0 | 8 | 0 | 姜太公所著 |
| 鬼谷子 | 0 | 5 | 0 | 鬼谷子所著 |
| 范蠡兵法 | 0 | 4 | 0 | 范蠡所著 |
| 墨子 | 0 | 3 | 0 | 墨翟所著 |
| 孙膑兵法 | 0 | 3 | 0 | 孙膑所著 |
| 三略 | 0 | 6 | 0 | 黄石公所著 |
| 司马法 | 0 | 2 | 0 | 田骧苴所著 |
| 吴子兵法 | 0 | 2 | 0 | 吴起所著 |
| 商君书 | 0 | 2 | 0 | 商鞅所著 |
| 尉缭子 | 0 | 1 | 0 | 尉缭子所著 |

#### 坐骑类（8件）- 增加移动力

| 道具名称 | 武力+ | 智力+ | 移动+ | 说明 |
|----------|-------|-------|-------|------|
| 赤兔 | 0 | 0 | 3 | 最初吕布，后归关羽，移动力+15，安全撤退 |
| 的卢 | 0 | 0 | 2 | 最初张武，后归刘备，移动力+13，安全撤退 |
| 绝影 | 0 | 0 | 2 | 曹操坐骑，移动力+10，安全撤退 |
| 爪黄飞电 | 0 | 0 | 1 | 曹操坐骑，移动力+4，安全撤退 |
| 王追 | 0 | 0 | 1 | 张飞坐骑，移动力+8，安全撤退 |
| 惊帆 | 0 | 0 | 1 | 曹植坐骑，移动力+5，安全撤退 |
| 白鸽 | 0 | 0 | 1 | 曹洪坐骑，移动力+3，安全撤退 |
| 快航 | 0 | 0 | 1 | 孙权坐骑，移动力+4，安全撤退 |

#### 兵符类（3件）- 改变兵种

| 道具名称 | 类型 | 效果 |
|----------|------|------|
| 铁骑兵符 | 使用 | 有条件使用，可使目标将领兵种转为极兵 |
| 太玄兵符 | 使用 | 有条件使用，可使目标将领兵种转为玄兵 |
| 水战兵符 | 使用 | 无条件使用，可使目标将领兵种转为水军 |

#### 特殊类（1件）

| 道具名称 | 说明 |
|----------|------|
| 火药弹 | 特殊道具 |

---

## 六、技能数据配置

### 6.1 技能列表（共30个）

| 编号 | 技能名称 | 类型 | 说明 |
|------|----------|------|------|
| 1 | 践踏 | 攻击 | 骑兵类技能 |
| 2 | 冲锋 | 攻击 | 骑兵类技能 |
| 3 | 突击 | 攻击 | 骑兵类技能 |
| 4 | 突袭 | 攻击 | 快速攻击 |
| 5 | 火攻 | 计谋 | 火系伤害 |
| 6 | 滚木 | 计谋 | 木系伤害 |
| 7 | 落石 | 计谋 | 石系伤害 |
| 8 | 奋战 | 攻击 | 全力攻击 |
| 9 | 飞矢 | 攻击 | 弓兵类技能 |
| 10 | 箭雨 | 攻击 | 弓兵范围攻击 |
| 11 | 火箭 | 攻击 | 火属性箭矢 |
| 12 | 水淹 | 计谋 | 水系伤害 |
| 13 | 撞击 | 攻击 | 物理冲撞 |
| 14 | 咒封 | 控制 | 封印技能 |
| 15 | 定身 | 控制 | 无法移动 |
| 16 | 流言 | 计谋 | 降低忠诚 |
| 17 | 援兵 | 辅助 | 恢复兵力 |
| 18 | 烈火 | 计谋 | 强力火攻 |
| 19 | 海啸 | 计谋 | 强力水攻 |
| 20 | 奇门 | 辅助 | 我方增益状态 |
| 21 | 遁甲 | 辅助 | 我方防御状态 |
| 22 | 天变 | 特殊 | 改变天气（君主特有） |
| 23 | 石阵 | 控制 | 敌方混乱状态 |
| 24 | 陷阱 | 计谋 | 设置陷阱 |
| 25 | 天籁 | 辅助 | 恢复类 |
| 26 | 潜踪 | 辅助 | 隐匿状态 |
| 27 | 围攻 | 攻击 | 包围攻击 |
| 28 | 急行 | 辅助 | 增加移动力 |
| 29 | 援军 | 辅助 | 大量恢复兵力 |
| 30 | 谍报 | 辅助 | 查看敌军信息 |

### 6.2 技能与兵种关系

不同兵种可学习的技能数量：

| 兵种 | 可学技能数 | 技能特点 |
|------|------------|----------|
| 骑兵 | 3 | 突击类技能（践踏、冲锋、突击） |
| 步兵 | 4 | 防御类技能 |
| 弓兵 | 3 | 远程攻击技能（飞矢、箭雨、火箭） |
| 水军 | 3 | 水战技能 |
| 极兵 | 4 | 强力攻击技能 |
| 玄兵 | 9 | 计谋类技能（火攻、水淹等） |

### 6.3 武将专属技能

部分武将拥有专属专长技能：

| 武将 | 专长技能 |
|------|----------|
| 华佗 | 谍报 |
| 通宵虫 | 石阵 |
| 南方小鬼 | 石阵 |

---

## 七、JSON配置格式

### 7.1 城池配置示例

```json
{
  "cities": [
    {
      "id": 15,
      "name": "洛阳",
      "position": { "x": 3, "y": 5 },
      "farmingLimit": 9649,
      "commerceLimit": 8951,
      "populationLimit": 805392,
      "connections": [
        { "to": 16, "distance": 2 },
        { "to": 10, "distance": 3 },
        { "to": 12, "distance": 2 }
      ]
    }
  ]
}
```

### 7.2 武将配置示例

```json
{
  "persons": [
    {
      "id": 0,
      "name": "吕布",
      "force": 110,
      "iq": 53,
      "character": 0,
      "armyType": "极兵",
      "birth": 172,
      "hometown": "洛阳"
    }
  ]
}
```

### 7.3 时期配置示例

```json
{
  "periods": [
    {
      "id": 1,
      "name": "董卓弄权",
      "year": 190,
      "citySetups": [
        {
          "cityId": 15,
          "belong": "董卓",
          "governor": "",
          "farming": 5017,
          "commerce": 4654,
          "population": 402696,
          "loyalty": 36
        }
      ],
      "personSetups": [
        {
          "personId": 0,
          "city": "洛阳",
          "belong": "董卓"
        }
      ]
    }
  ]
}
```

---

## 八、数据提取说明

### 8.1 从dat.xml提取数据

数据源文件 `data/dat.xml` 包含完整游戏配置：

```xml
<!-- 城池定义 -->
<城池 名称="洛阳" ... />

<!-- 道具定义 -->
<道具 名称="方天画戟" 类型="装备" 加武力="10" ... />

<!-- 技能定义 -->
<技能 名称="火攻" />

<!-- 时期配置 -->
<时期 起始年="190">
  <城池清单>
    <!-- 该时期各城池状态和人物 -->
  </城池清单>
</时期>
```

### 8.2 数据特点

1. **武将属性上限**：武力/智力可超过100（最高150）
2. **特殊人物**：包含"通宵虫"、"南方小鬼"等测试/隐藏人物（全属性150）
3. **在野武将**：归属为空的武将在野，可在特定城市搜索到
4. **人物出现**：通过"成年"年份和"伯乐"机制控制人物出现

---

## 九、附录

### 9.1 城市名称对照

```
西凉(0)  北平(1)  襄平(2)  安定(3)  晋阳(4)
平原(5)  南皮(6)  北海(7)  天水(8)  河内(9)
长安(10) 邺(11)   濮阳(12) 徐州(13) 汉中(14)
洛阳(15) 许昌(16) 小沛(17) 下邳(18) 梓潼(19)
宛城(20) 寿春(21) 建业(22) 吴(23)   成都(24)
棉竹(25) 襄阳(26) 江夏(27) 庐江(28) 会稽(29)
云南(30) 巴郡(31) 武陵(32) 长沙(33) 柴桑(34)
零陵(35) 桂阳(36) 建宁(37)
```

### 9.2 性格类型

| 编号 | 性格 | 特点 |
|------|------|------|
| 0 | 勇猛 | 攻击力加成 |
| 1 | 冷静 | 防御稳定 |
| 2 | 狡猾 | 计谋成功率 |
| 3 | 仁德 | 民心相关 |
| 4 | 忠义 | 忠诚度稳定 |

### 9.3 兵种类型

| 兵种 | 特点 |
|------|------|
| 骑兵 | 机动性强，突击技能 |
| 步兵 | 防御高，山地优势 |
| 弓兵 | 远程攻击，森林优势 |
| 水军 | 水中优势，水战技能 |
| 极兵 | 高攻防，特殊技能 |
| 玄兵 | 计谋多，策略型 |

---

*文档版本：1.1*  
*更新日期：2026-02-12*  
*数据源：data/dat.xml*
